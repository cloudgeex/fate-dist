{"version":3,"file":"fate-editor.umd.js","sources":["../../node_modules/tslib/tslib.es6.js","ng://fate-editor/app/fate-type.enum.ts","ng://fate-editor/app/fate-link-dropdown/fate-link-dropdown.component.ts","ng://fate-editor/app/fate-controller.service.ts","ng://fate-editor/app/fate-node.ts","ng://fate-editor/app/fate-html-parser.service.ts","ng://fate-editor/app/fate-parser.service.ts","ng://fate-editor/app/fate-icon.service.ts","ng://fate-editor/app/fate-ui/fate-ui.component.ts","ng://fate-editor/app/fate-input/fate-input.component.ts","ng://fate-editor/app/fate-bootstrap/fate-bootstrap.component.ts","ng://fate-editor/app/fate-material-icon.service.ts","ng://fate-editor/app/fate-material/fate-material.component.ts","ng://fate-editor/app/fate-fontawsome-legacy-icon.service.ts","ng://fate-editor/app/fate.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export enum FateType {\n  NONE = 'NONE',\n  PARAGRAPH = 'PARAGRAPH',\n  HEADER1 = 'HEADER1',\n  HEADER2 = 'HEADER2',\n  HEADER3 = 'HEADER3',\n  HEADER4 = 'HEADER4',\n  HEADER5 = 'HEADER5',\n  HEADER6 = 'HEADER6',\n  QUOTE = 'QUOTE',\n  CODE = 'CODE',\n  SIZE = 'SIZE',\n  BOLD = 'BOLD',\n  HIGHLIGHT = 'HIGHLIGHT',\n  SUBSCRIPT = 'SUBSCRIPT',\n  SUPERSCRIPT = 'SUPERSCRIPT',\n  STRIKETHROUGH = 'STRIKETHROUGH',\n  ITALIC = 'ITALIC',\n  COLOR = 'COLOR',\n  UNDERLINE = 'UNDERLINE',\n  LINK = 'LINK',\n  ALIGN_LEFT = 'ALIGN_LEFT',\n  ALIGN_CENTER = 'ALIGN_CENTER',\n  ALIGN_RIGHT = 'ALIGN_RIGHT',\n  JUSTIFY = 'JUSTIFY',\n  ORDERED_LIST = 'ORDERED_LIST',\n  UNORDERED_LIST = 'UNORDERED_LIST',\n  LISTITEM = 'LISTITEM',\n  INDENT = 'INDENT',\n  TYPEFACE = 'TYPEFACE',\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\nimport { FateDropdown } from '../fate-dropdown.interface';\n\n@Component({\n  selector: 'fate-link-dropdown',\n  templateUrl: './fate-link-dropdown.component.html',\n  styleUrls: ['./fate-link-dropdown.component.scss']\n})\nexport class FateLinkDropdownComponent implements FateDropdown {\n\n  @Input()\n  public value: string;\n\n  @Output()\n  public valueChange = new EventEmitter<string>();\n\n  public changeValue (value) {\n    this.value = value;\n    this.valueChange.emit(value);\n  }\n\n  public selectNext () {};\n  public selecPrevious () {};\n  public confirmSelection () {};\n}\n","import { Injectable } from '@angular/core';\n\nimport { Subject } from 'rxjs';\n\nimport { FateType } from './fate-type.enum';\nimport { FateLinkDropdownComponent } from './fate-link-dropdown/fate-link-dropdown.component';\n\nexport interface FateCommand {\n  name: string;\n  value: any;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FateControllerService {\n\n  // List of available commands, alphabetically\n  // see https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand\n  protected actionMapping = {\n    'bold' : {\n      command: 'bold',\n      name: 'Bold',\n      detect: FateType.BOLD\n    },\n    'italic' : {\n      command: 'italic',\n      name: 'Italic',\n      detect: FateType.ITALIC\n    },\n    'underline' : {\n      command: 'underline',\n      name: 'Underlined',\n      detect: FateType.UNDERLINE\n    },\n    'strike' : {\n      command: 'strikeThrough',\n      name: 'Strike Through',\n      detect: FateType.STRIKETHROUGH\n    },\n    'subscript' : {\n      command: 'subscript',\n      name: 'Subscript',\n      label: 'sub',\n      detect: FateType.SUBSCRIPT\n    },\n    'superscript' : {\n      command: 'superscript',\n      name: 'Superscript',\n      label: 'sup',\n      detect: FateType.SUPERSCRIPT\n    },\n    'heading1' : {\n      command: 'formatBlock',\n      value: 'H1',\n      name: '1st Header',\n      label: 'h1',\n      detect: FateType.HEADER1\n    },\n    'heading2' : {\n      command: 'formatBlock',\n      value: 'H2',\n      name: '2nd Header',\n      label: 'h2',\n      detect: FateType.HEADER2\n    },\n    'heading3' : {\n      command: 'formatBlock',\n      value: 'H3',\n      name: '3rd Header',\n      label: 'h3',\n      detect: FateType.HEADER3\n    },\n    'heading4' : {\n      command: 'formatBlock',\n      value: 'H4',\n      name: '4th Header',\n      label: 'h4',\n      detect: FateType.HEADER4\n    },\n    'heading5' : {\n      command: 'formatBlock',\n      value: 'H5',\n      name: '5th Header',\n      label: 'h5',\n      detect: FateType.HEADER5\n    },\n    'heading6' : {\n      command: 'formatBlock',\n      value: 'H6',\n      name: '6th Header',\n      label: 'h6',\n      detect: FateType.HEADER6\n    },\n    'normal' : {\n      command: 'formatBlock',\n      value: 'DIV',\n      name: 'Normal',\n      label: 'p',\n    },\n    'indent' : {\n      command: 'indent',\n      name: 'Indent',\n    },\n    'outdent' : {\n      command: 'outdent',\n      name: 'Outdent',\n    },\n    'ordered' : {\n      command: 'insertOrderedList',\n      name: 'Ordered List',\n      detect: FateType.ORDERED_LIST\n    },\n    'unordered' : {\n      command: 'insertUnorderedList',\n      name: 'Unorder List',\n      detect: FateType.UNORDERED_LIST\n    },\n    'center' : {\n      command: 'justifyCenter',\n      name: 'Center',\n      detect: FateType.ALIGN_CENTER\n    },\n    'justify' : {\n      command: 'justifyFull',\n      name: 'Justify',\n      detect: FateType.JUSTIFY\n    },\n    'left' : {\n      command: 'justifyLeft',\n      name: 'Left',\n      detect: FateType.ALIGN_LEFT\n    },\n    'right' : {\n      command: 'justifyRight',\n      name: 'Right',\n      detect: FateType.ALIGN_RIGHT\n    },\n    'undo' : {\n      command: 'undo',\n      name: 'Undo',\n    },\n    'redo' : {\n      command: 'redo',\n      name: 'Redo',\n    },\n    'clean' : {\n      command: 'removeFormat',\n      name: 'Remove Formating',\n    },\n    'link' : {\n      command: 'createLink',\n      undo: 'unlink',\n      name: 'Link',\n      detect: FateType.LINK,\n      dropdown: FateLinkDropdownComponent\n    }\n  };\n  public registerAction(name: string, action: any) {\n    if (this.actionMapping[name]) {\n      throw new Error('An action with the name \"' + name + '\" already exists!');\n    } else {\n      this.actionMapping[name] = action;\n    }\n  }\n  public getAction(actionName): boolean | any {\n    return this.actionMapping[actionName] || false;\n  }\n\n  protected inlineActionMapping: any = {};\n  public registerInlineAction(name: string, action: any) {\n    if (this.inlineActionMapping[name]) {\n      throw new Error('An inline action with the name \"' + name + '\" already exists!');\n    } else {\n      this.inlineActionMapping[name] = action;\n    }\n  }\n   public getInlineAction(context: string): boolean | any {\n    for (const action of Object.keys(this.inlineActionMapping)) {\n      const match = this.inlineActionMapping[action].regexp.exec(context);\n      if (match) {\n        this.inlineActionMapping[action].matched = match[1];\n        return this.inlineActionMapping[action];\n      }\n    }\n    return false;\n  }\n\n  protected commandsPipe = {\n    default: new Subject<FateCommand>()\n  };\n\n  protected enabledActions = {\n    default: new Subject<any>()\n  };\n\n  constructor() { }\n\n  public channel(channelId) {\n    if (!this.commandsPipe[channelId]) {\n      this.commandsPipe[channelId] = new Subject<FateCommand>();\n    }\n    return this.commandsPipe[channelId];\n  }\n\n  public enabled(channelId) {\n    if (!this.enabledActions[channelId]) {\n      this.enabledActions[channelId] = new Subject<any>();\n    }\n    return this.enabledActions[channelId];\n  }\n\n  public enableActions(channelId, nodes) {\n    const actions: Array<any> = [];\n    for (const node of nodes) {\n      for (const action in this.actionMapping) {\n        if (this.actionMapping[action].detect && this.actionMapping[action].detect === node.type) {\n          actions.push({action: action, value: node.value});\n        } else if (this.actionMapping[action].detect && typeof this.actionMapping[action].detect === 'function') {\n          const detected = this.actionMapping[action].detect(node);\n          if (detected) {\n            actions.push({action: action, value: detected.value});\n          }\n        }\n      }\n    }\n    this.enabledActions[channelId].next(actions);\n  }\n\n\n  public do(channel, action, value?) {\n    if (this.actionMapping[action].dropdown && !value) {\n      if (this.actionMapping[action].undo) {\n        this.commandsPipe[channel].next({name: this.actionMapping[action].undo, value: this.actionMapping[action].value || value});\n      } else {\n        throw new Error('Action \"' + action + '\"doesn\\'t have a undo command');\n      }\n    } else {\n      if (this.actionMapping[action].value && (typeof this.actionMapping[action].value === 'function')) {\n        this.commandsPipe[channel].next({name: this.actionMapping[action].command, value: this.actionMapping[action].value(value)});\n      } else {\n        this.commandsPipe[channel].next({name: this.actionMapping[action].command, value: this.actionMapping[action].value || value});\n      }\n    }\n  }\n\n  public doInline(channel, action, value?) {\n    if (action.dropdown && !value) {\n      if (action.undo) {\n        this.commandsPipe[channel].next({name: action.undo, value: action.value || value});\n      } else {\n        throw new Error('Action \"' + action + '\"doesn\\'t have a undo command');\n      }\n    } else {\n      if (action.value && (typeof action.value === 'function')) {\n        this.commandsPipe[channel].next({name: action.command, value: action.value(value)});\n      } else {\n        this.commandsPipe[channel].next({name: action.command, value: action.value || value});\n      }\n    }\n  }\n\n  public undo(channel, action, value?) {\n    const mapping = this.actionMapping[action].undo;\n    // TODO\n  }\n}\n","import { FateType } from './fate-type.enum';\n\nexport class FateNode {\n  constructor(public type: FateType = FateType.NONE, public value?: any) {}\n\n  public children: Array<FateNode | string> = [];\n}\n","import { Injectable } from '@angular/core';\n\nimport { FateNode } from './fate-node';\nimport { FateType } from './fate-type.enum';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FateHtmlParserService {\n\n  constructor() { }\n\n  public parse(html: string): FateNode {\n    const div = document.createElement('div');\n    div.innerHTML = html;\n    return this.parseElement(div);\n  };\n\n  public parseElement(element: HTMLElement): FateNode {\n    const nodes = this.parseType(element);\n    let currentNode = nodes[0];\n    \n    let isABlock = (currentNode.type === FateType.PARAGRAPH);\n    for (let i = 1; i < nodes.length; i++) {\n      currentNode.children.push(nodes[i]);\n      currentNode = nodes[i];\n      if (currentNode.type === FateType.PARAGRAPH) {\n        isABlock = true;\n      }\n    }\n\n    let previousNodeWasText = false;\n    for (let i = 0; i < element.childNodes.length; i ++) {\n      const child = element.childNodes[i];\n      // pick ahead to look for <br>\n      if (\n          (i < element.childNodes.length - 1) &&\n          (this.isLinebreak(element.childNodes[i + 1])) &&\n          !(isABlock && i === element.childNodes.length - 2) // The last child is a BR in a block, this can be ignored\n        ) {\n\n        previousNodeWasText = false;\n        if (child instanceof Text) {\n          // wrap the text in a paragraph\n          const paragraph = new FateNode(FateType.PARAGRAPH);\n          paragraph.children.push(child.data);\n          currentNode.children.push(paragraph);\n        } else if (child instanceof HTMLElement) {\n          // insert an empty paragraph\n          currentNode.children.push(this.parseElement(child));\n          currentNode.children.push(new FateNode(FateType.PARAGRAPH));\n        } else {\n          // ignore\n        }\n      } else {\n        if (child instanceof Text) {\n          // If two \"pure\" text node follow one another we can safely merge then as one (for i > 0)\n          if (previousNodeWasText) {\n            currentNode.children[currentNode.children.length - 1] = currentNode.children[currentNode.children.length - 1] + child.data;\n          } else {\n            currentNode.children.push(child.data);\n          }\n          previousNodeWasText = true;\n        } else if (child instanceof HTMLElement) {\n          currentNode.children.push(this.parseElement(child));\n          previousNodeWasText = false;\n        } else {\n          // ignore\n        }\n      }\n    }\n    return nodes[0];\n  }\n\n  public findParentNodes(node: Node, until: Node): Array<FateNode> {\n    const nodes: Array<FateNode> = [];\n    let current: HTMLElement = (node.nodeType === 1) ? (node as HTMLElement) : node.parentElement;\n    while (current !== until) {\n      nodes.push(...this.parseType(current));\n      current = current.parentElement;\n    }\n    return nodes;\n  }\n\n  protected getAdditonalStyle(element: HTMLElement): Array<FateNode> {\n    const style = element.style;\n    const detectedStyleNode = [];\n    // Look for alignement\n    const align = element.getAttribute('align') || style.textAlign;\n    switch (align) {\n      case 'left':\n        detectedStyleNode.push(new FateNode(FateType.ALIGN_LEFT));\n        break;\n      case 'center':\n        detectedStyleNode.push(new FateNode(FateType.ALIGN_CENTER));\n        break;\n      case 'right':\n        detectedStyleNode.push(new FateNode(FateType.ALIGN_RIGHT));\n        break;\n      case 'justify':\n        detectedStyleNode.push(new FateNode(FateType.JUSTIFY));\n        break;\n    }\n    // Look for color\n    const color = element.getAttribute('color') || style.color;\n    if(color) {\n      detectedStyleNode.push(new FateNode(FateType.COLOR, color));\n    }\n    // Look for size\n    const size = element.getAttribute('size') || style.fontSize;\n    if (size) {\n      detectedStyleNode.push(new FateNode(FateType.SIZE, size));\n    }\n    // Look for family\n    const typeface = element.getAttribute('face') || style.fontFamily;\n    if (typeface) {\n      detectedStyleNode.push(new FateNode(FateType.TYPEFACE, typeface));\n    }\n\n    return detectedStyleNode;\n  }\n\n  protected parseType(element: HTMLElement): Array<FateNode> {\n    const additionaStyle = this.getAdditonalStyle(element);\n    switch (element.nodeName) {\n      case 'H1':\n        return [new FateNode(FateType.HEADER1), ...additionaStyle];\n      case 'H2':\n        return [new FateNode(FateType.HEADER2), ...additionaStyle];\n      case 'H3':\n        return [new FateNode(FateType.HEADER3), ...additionaStyle];\n      case 'H4':\n        return [new FateNode(FateType.HEADER4), ...additionaStyle];\n      case 'H5':\n        return [new FateNode(FateType.HEADER5), ...additionaStyle];\n      case 'H6':\n        return [new FateNode(FateType.HEADER6), ...additionaStyle];\n      case 'B':\n      case 'STRONG':\n        return [new FateNode(FateType.BOLD)];\n      case 'I':\n      case 'EM':\n        return [new FateNode(FateType.ITALIC)];\n      case 'U':\n        return [new FateNode(FateType.UNDERLINE)];\n      case 'STRIKE':\n        return [new FateNode(FateType.STRIKETHROUGH)];\n      case 'SUB':\n        return [new FateNode(FateType.SUBSCRIPT)];\n      case 'SUP':\n        return [new FateNode(FateType.SUPERSCRIPT)];\n      case 'A':\n        return [new FateNode(FateType.LINK, element.getAttribute('href'))];\n      case 'OL':\n        return [new FateNode(FateType.ORDERED_LIST)];\n      case 'UL':\n        return [new FateNode(FateType.UNORDERED_LIST)];\n      case 'LI':\n        return [new FateNode(FateType.LISTITEM)];\n      case 'DIV':\n      case 'P':\n        if (additionaStyle.length > 0) {\n          return [...additionaStyle];\n        }\n        return [new FateNode(FateType.PARAGRAPH)];\n      case 'BLOCKQUOTE':\n        // FIXME: this doesn't work on FF\n        if (element.style.marginLeft === '40px') {\n          return [new FateNode(FateType.INDENT)];\n        }\n        return [new FateNode(FateType.NONE)];\n      default:\n        if (additionaStyle.length > 0) {\n          return [...additionaStyle];\n        }\n        return [new FateNode(FateType.NONE)];\n    }\n  }\n\n  protected parseValue(element: HTMLElement): any {\n    switch (element.nodeName) {\n      case 'A':\n        return element.getAttribute('href');\n    }\n    return undefined;\n  }\n\n  protected serializeType(node: FateNode): string {\n    switch (node.type) {\n      case FateType.PARAGRAPH:\n        return '<div>' + this.serialize(node, true) + '</div>';\n      case FateType.HEADER1:\n        return '<h1>' + this.serialize(node, true) + '</h1>';\n      case FateType.HEADER2:\n        return '<h2>' + this.serialize(node, true) + '</h2>';\n      case FateType.HEADER3:\n        return '<h3>' + this.serialize(node, true) + '</h3>';\n      case FateType.HEADER4:\n        return '<h4>' + this.serialize(node, true) + '</h4>';\n      case FateType.HEADER5:\n        return '<h5>' + this.serialize(node, true) + '</h5>';\n      case FateType.HEADER6:\n        return '<h6>' + this.serialize(node, true) + '</h6>';\n      case FateType.QUOTE:\n        return '<quote>' + this.serialize(node) + '</quote>';\n      case FateType.CODE:\n        return '<code>' + this.serialize(node) + '</code>';\n      case FateType.BOLD:\n        return '<strong>' + this.serialize(node) + '</strong>';\n      case FateType.ITALIC:\n        return '<em>' + this.serialize(node) + '</em>';\n      case FateType.UNDERLINE:\n        return '<u>' + this.serialize(node) + '</u>';\n      case FateType.STRIKETHROUGH:\n        return '<strike>' + this.serialize(node) + '</strike>';\n      case FateType.SUBSCRIPT:\n        return '<sub>' + this.serialize(node) + '</sub>';\n      case FateType.SUPERSCRIPT:\n        return '<sup>' + this.serialize(node) + '</sup>';\n      case FateType.LINK:\n        return '<a href=\"' + node.value + '\">' + this.serialize(node) + '</a>';\n      case FateType.ORDERED_LIST:\n        return '<ol>' + this.serialize(node) + '</ol>';\n      case FateType.UNORDERED_LIST:\n        return '<ul>' + this.serialize(node) + '</ul>';\n      case FateType.LISTITEM:\n        return '<li>' + this.serialize(node) + '</li>';\n      case FateType.ALIGN_LEFT:\n        return '<div style=\"text-align: left;\">' + this.serialize(node, true) + '</div>';\n      case FateType.ALIGN_CENTER:\n        return '<div style=\"text-align: center;\">' + this.serialize(node, true) + '</div>';\n      case FateType.ALIGN_RIGHT:\n        return '<div style=\"text-align: right\">' + this.serialize(node, true) + '</div>';\n      case FateType.JUSTIFY:\n        return '<div style=\"text-align: justify;\">' + this.serialize(node, true) + '</div>';\n      case FateType.INDENT:\n        return '<blockquote style=\"margin-left: 40px\">' + this.serialize(node, true) + '</blockquote>';\n      case FateType.COLOR:\n        return '<font color=\"' + node.value + '\">' + this.serialize(node) + '</font>';\n      case FateType.SIZE:\n        return '<font size=\"' + node.value + '\">' + this.serialize(node) + '</font>';\n      case FateType.TYPEFACE:\n        return '<font face=\"' + node.value + '\">' + this.serialize(node) + '</font>';\n      case FateType.NONE:\n        return this.serialize(node);\n    }\n  };\n\n  protected isLinebreak(child: Node): boolean {\n    return (child instanceof HTMLElement && child.nodeName === 'BR');\n  }\n\n  // Saves a Tree in string representation\n  public serialize (node: FateNode, fallbackToBr: boolean = false): string {\n    let serialized = '';\n    node.children.forEach((child) => {\n      if (typeof child === 'string') {\n        serialized += child;\n      } else {\n        serialized += this.serializeType(child);\n      }\n    });\n    if (fallbackToBr && !serialized) {\n      serialized = '<br>';\n    }\n    return serialized;\n  };\n}\n","import { Injectable } from '@angular/core';\n\nimport { FateHtmlParserService } from './fate-html-parser.service';\nimport { FateParser } from './fate-parser.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FateParserService extends FateHtmlParserService implements FateParser {}\n","import { Injectable } from '@angular/core';\n\nimport { FateIcon } from './fate-icon.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FateIconService implements FateIcon {\n  // font awesome\n  protected iconMapping: any = {\n    bold: 'bold',\n    italic: 'italic',\n    underline: 'underline',\n    strike: 'strikethrough',\n    subscript: 'subscript',\n    superscript: 'superscript',\n    indent: 'indent',\n    outdent: 'outdent',\n    ordered: 'list-ol',\n    unordered: 'list-ul',\n    center: 'align-center',\n    justify: 'align-justify',\n    left: 'align-left',\n    right: 'align-right',\n    undo: 'undo-alt',\n    redo: 'redo-alt',\n    clean: 'eraser',\n    link: 'link'\n  };\n\n  public getIcon(actionName): string {\n    return this.iconMapping[actionName];\n  }\n}\n","import { Component, Input, ElementRef, HostListener, OnChanges, AfterViewInit, ComponentFactoryResolver, ViewChild, ViewContainerRef, ViewRef } from '@angular/core';\n\nimport { Subscription } from 'rxjs';\n\nimport { FateControllerService } from '../fate-controller.service';\nimport { FateParserService } from '../fate-parser.service';\nimport { FateIconService } from '../fate-icon.service';\n\nexport const defaultButtons = [\n  'bold',\n  'italic',\n  'underline',\n  'strike',\n  'separator',\n  'subscript',\n  'superscript',\n  'link',\n  'separator',\n  'heading1',\n  'heading2',\n  'heading3',\n  'heading4',\n  'heading5',\n  'heading6',\n  'normal',\n  'separator',\n  'indent',\n  'outdent',\n  'ordered',\n  'unordered',\n  'separator',\n  'center',\n  'justify',\n  'left',\n  'right',\n  'separator',\n  'undo',\n  'redo',\n  'clean'\n];\n\n@Component({\n  selector: 'fate-ui',\n  templateUrl: './fate-ui.component.html',\n  styleUrls: ['./fate-ui.component.scss']\n})\nexport class FateUiComponent implements OnChanges, AfterViewInit {\n\n  @Input()\n  public uiId: string = 'default';\n\n  @Input()\n  public buttons: Array<string> = defaultButtons;\n\n  public enabled: any = {};\n  public dropdownAction: boolean | string = false;\n  public dropdownValue: string;\n  protected dropdownComponent: ViewRef;\n\n  protected inputSubscription: Subscription;\n\n  constructor(protected el: ElementRef, public controller: FateControllerService, public icon: FateIconService, protected parser: FateParserService, protected factoryResolver: ComponentFactoryResolver) { }\n\n  @HostListener('mousedown', ['$event'])\n  public mouseDown(event) {\n    if (!event.target.closest('.fate-ui-dropdown')) {\n      event.preventDefault();\n    }\n  }\n\n  @HostListener('keyup', ['$event'])\n  public keyUp(event) {\n    if (event.key === 'Enter') {\n      const name = event.target.name;\n      if (name) {\n        this.do(event, name);\n      }\n    }\n  }\n\n  @ViewChild('dropdown', {\n    read: ViewContainerRef,\n    static: true,\n  })\n  viewContainerRef: ViewContainerRef\n\n  public do(event, action) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.controller.getAction(action).dropdown) {\n      if (action === this.dropdownAction) {\n        this.dropdownAction = false;\n      } else {\n        let button = event.target;\n        if (!button.classList.contains('fate-ui-button')) {\n          button = button.closest('.fate-ui-button');\n        }\n        if(!button) {\n          return\n        }\n        const dropdown =  this.el.nativeElement.querySelector('.fate-ui-dropdown');\n\n        // Enable the dropdown\n\n        this.dropdownValue = this.enabled[action];\n        console.debug('action has value', button, dropdown, this.dropdownValue);\n        this.initDropdown(this.controller.getAction(action).dropdown, this.dropdownValue);\n\n        // Postion the dropdown\n        setTimeout(() => {\n          const buttonSize = button.getBoundingClientRect();\n          const dropdownSize =  dropdown.getBoundingClientRect();\n          let leftPosition = button.offsetLeft + (buttonSize.width / 2) - (dropdownSize.width / 2);\n          // make sure the dropdown is not bleeding out of the viewport\n          if (buttonSize.left + window.pageXOffset + (buttonSize.width / 2) - (dropdownSize.width / 2) < 3) {\n            leftPosition = - buttonSize.left - window.pageXOffset + button.offsetLeft + 3;\n          } else if (buttonSize.left + window.pageXOffset + (buttonSize.width / 2) + (dropdownSize.width / 2) > window.innerWidth - 3) {\n            leftPosition = window.innerWidth - buttonSize.left - window.pageXOffset + button.offsetLeft - dropdownSize.width - 3;\n          }\n          const topPosition = button.offsetTop + buttonSize.height - 3;\n          dropdown.style.left = leftPosition + 'px';\n          dropdown.style.top = topPosition + 'px';\n          // make the dropdown visible\n          this.dropdownAction = action;\n        }, 0);\n      }\n    } else {\n      this.dropdownAction = false;\n      this.controller.do(this.uiId, action);\n    }\n  }\n\n  protected getOffset(element) {\n    let top = 0;\n    let left = 0;\n    do {\n        top += element.offsetTop  || 0;\n        left += element.offsetLeft || 0;\n        element = element.offsetParent;\n    } while (element);\n\n    return {\n        top: top,\n        left: left\n    };\n  }\n\n  protected initDropdown(actionComponent, value) {\n    if (this.dropdownComponent) {\n      this.dropdownComponent.destroy();\n    }\n    const factory = this.factoryResolver.resolveComponentFactory(actionComponent);\n    const component: any = factory.create(this.viewContainerRef.parentInjector);\n    if (component.instance.valueChange) {\n      component.instance.value = value;\n      component.instance.valueChange.subscribe((newValue) => {\n        this.dropdownValue = newValue;\n        this.controller.do(this.uiId, this.dropdownAction, newValue);\n      });\n      this.dropdownComponent = this.viewContainerRef.insert(component.hostView);\n    } else {\n      throw new Error('The component used as a dropdown doesn\\'t contain a valueChange emmiter!');\n    }\n  }\n\n  public ngOnChanges(changes) {\n    if (changes['uiId']) {\n      if (this.inputSubscription) {\n        this.inputSubscription.unsubscribe();\n      }\n      this.inputSubscription = this.controller.enabled(this.uiId).subscribe((actions: any) => {\n        this.enabled = {};\n        for (const action of actions) {\n          this.enabled[action.action] = action.value || true;\n        }\n      });\n    }\n  }\n\n  public ngAfterViewInit() {\n    const handle = window.addEventListener('mousedown', (event) => {\n      if (!(event.target as Element).closest('.fate-ui-dropdown')) {\n        this.dropdownAction = false;\n      }\n    });\n  }\n}\n","import { Component, Input, Output, ViewChild, ElementRef, ViewRef, ViewContainerRef, ComponentFactoryResolver, OnInit, OnChanges, AfterViewInit, OnDestroy, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\nimport { Subscription } from 'rxjs';\n\nimport { FateControllerService } from '../fate-controller.service';\nimport { FateHtmlParserService } from '../fate-html-parser.service';\nimport { FateParserService } from '../fate-parser.service';\n\n@Component({\n  selector: 'fate-input',\n  template: `\n    <div class=\"fate-inline-dropdown\"\n         [class.hidden]=\"!inlineAction\"\n         [class.contextual]=\"inlineAction?.display === 'contextual'\"\n         [style.top]=\"dropdownPostionTop\"\n         [style.left]=\"dropdownPostionLeft\">\n      <ng-template #dropdown></ng-template>\n    </div>\n    <div [class]=\"'fate-edit-target ' + customClass\"\n         [ngClass]=\"{empty: empty}\"\n         contenteditable=\"true\"\n         [title]=\"placeholder\"\n         [innerHtml]=\"content\"></div>\n  `,\n  styles: [`\n    :host div.fate-edit-target {\n      display: block;\n      padding: 10px;\n      border: 1px solid #DDD;\n      outline: 0;\n      resize: vertical;\n      overflow: auto;\n      background: #FFF;\n      color: #000;\n      overflow: visible;\n    }\n    :host div.fate-edit-target.empty:not(:focus):before {\n      content:attr(title);\n      color: #636c72;\n    }\n    .fate-inline-dropdown {\n      border: 1px solid #DDD;\n      border-bottom: 0;\n    }\n    .fate-inline-dropdown.hidden {\n      display: none !important;\n    }\n    .fate-inline-dropdown.contextual {\n      position: absolute;\n      background: #FFF;\n      box-shadow: 0 5px 30px -10px rgba(0,0,0,0.4);\n      border-bottom: 1px solid #CCC;\n    }\n    :host {\n      margin-bottom: 10px;\n      /*position: relative;*/\n    }\n  `],\n  providers: [\n    {provide: NG_VALUE_ACCESSOR, useExisting: FateInputComponent, multi: true}\n  ],\n})\nexport class FateInputComponent implements ControlValueAccessor, OnChanges, OnInit, AfterViewInit, OnDestroy {\n\n  @Input()\n  public uiId: string = 'default';\n\n  @Input()\n  public row: number;\n\n  @Input()\n  public customClass: string;\n\n  @Input()\n  public placeholder: string = '';\n\n  @Output()\n  public focus = new EventEmitter<void>();\n\n  @Output()\n  public blur = new EventEmitter<void>();\n\n  @ViewChild('dropdown', {\n    read: ViewContainerRef,\n    static: true,\n  })\n  viewContainerRef: ViewContainerRef\n  protected dropdownComponent: ViewRef;\n  protected dropdownInstance: any;\n  public dropdownPostionTop: string;\n  public dropdownPostionLeft: string;\n  public inlineAction: any;\n\n  public content: SafeHtml;\n  public empty: boolean = true;\n  protected editTarget: any;\n  protected isFocused: boolean = false;\n\n  constructor(protected el: ElementRef, protected controller: FateControllerService, protected htmlParser: FateHtmlParserService, protected parser: FateParserService, protected sanitizer: DomSanitizer, protected factoryResolver: ComponentFactoryResolver) {}\n\n  private reactToChanges() {\n    const tree = this.htmlParser.parseElement(this.editTarget);\n    const serializedTree = this.parser.serialize(tree);\n    this.changed.forEach(f => f(serializedTree));\n  }\n\n  public ngOnInit() {\n    this.subscribeToUi(this.uiId);\n  }\n\n  public ngAfterViewInit() {\n    this.editTarget = this.el.nativeElement.querySelector('.fate-edit-target');\n    if (this.row) {\n      this.computeHeight();\n    }\n\n    this.editTarget.addEventListener('click', (event: any) => {\n      console.debug('click');\n      // On click we save the text Selection\n      this.saveSelection();\n      // We check if there is a dropdown matching this context\n      this.checkForDropdownContext();\n    });\n\n    this.editTarget.addEventListener('keyup', (event: any) => {\n      console.debug('keypressed');\n      // On click we save the text Selection\n      this.saveSelection();\n      // We check if there is a dropdown matching this context\n      this.checkForDropdownContext();\n    });\n\n    this.editTarget.addEventListener('focus', (event: any) => {\n      console.debug('(' + this.uiId + ') focus');\n      // On focus we restore it\n      this.restoreSelection();\n      this.isFocused = true;\n      this.focus.emit();\n    });\n    this.editTarget.addEventListener('blur', (event: any) => {\n      console.debug('(' + this.uiId + ') blur');\n      this.isFocused = false;\n      this.blur.emit();\n      this.saveSelection();\n\n      if (this.dropdownComponent) {\n        setTimeout(() => {\n          this.inlineAction = null;\n          this.dropdownComponent.destroy();\n        }, 300);\n        // this.inlineAction = null;\n        // this.dropdownComponent.destroy();\n      }\n    });\n\n    this.editTarget.addEventListener('keydown', (event: any) => {\n      console.debug('keydown', event);\n      const stopDefault = () => {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n      const stopDefaultAndForceUpdate = () => {\n        stopDefault();\n        this.checkEmpty();\n        this.reactToChanges();\n      }\n      // This is needed because, if the current selection is part\n      // of a non-editable child of the input, the default delete won't\n      // work.\n      // This case can happen if there is a cutom element that\n      // was inserted by some custom controller.\n      //\n      // Some constraints for a custom block to work on top of contenteditable=false:\n      // -moz-user-select: none;\n      // -webkit-user-modify: read-only;\n      //\n      // Note: It may make sense to delete the selection for normal text\n      // input too but for now we only do it on deletion.\n      if (event.key === 'Backspace' || event.key === 'Delete' && this.selectionRange) {\n        const node = this.selectionRange.commonAncestorContainer;\n        console.debug('Deletion', node);\n        if (node instanceof HTMLElement && !(node as HTMLElement).isContentEditable) {\n          // this is the case on firefox\n          console.debug('deleting inside un-editable block detected');\n          this.selectionRange.selectNode(node);\n          this.selectionRange.deleteContents();\n          stopDefaultAndForceUpdate();\n        } else if (node.nodeName === '#text' && !node.parentElement.isContentEditable) {\n          // this is the case on webkit\n          console.debug('deleting inside un-editable block detected');\n          this.selectionRange.selectNode(node.parentElement);\n          this.selectionRange.deleteContents();\n          stopDefaultAndForceUpdate();\n        }\n      }\n      // This is needed because, there is a bug in Firefox that prevent\n      // deleting a uneditable element inside an editable element. So we\n      // reimplement the whole function for all browsers.\n      if (event.key === 'Backspace' && this.selectionRange) {\n        const node = this.selectionRange.commonAncestorContainer;\n        if (this.selectionRange.collapsed === true &&\n            this.selectionRange.startOffset === 0 &&\n            node.previousSibling instanceof HTMLElement &&\n            !(node.previousSibling as HTMLElement).isContentEditable ) {\n          node.previousSibling.remove();\n          stopDefaultAndForceUpdate();\n        }\n      } else if (event.key === 'Delete' && this.selectionRange) {\n        const node = this.selectionRange.commonAncestorContainer;\n        if (this.selectionRange.collapsed === true &&\n            this.selectionRange.endContainer.nodeName === '#text' &&\n            this.selectionRange.endOffset === (this.selectionRange.endContainer as Text).length &&\n            node.nextSibling instanceof HTMLElement &&\n            !(node.nextSibling as HTMLElement).isContentEditable ) {\n          node.nextSibling.remove();\n          stopDefaultAndForceUpdate();\n        }\n      }\n      // If a dropdown is currently being displayed we use the up/down\n      // key to navigate its content and return to select the selected\n      // element\n      if (this.inlineAction) {\n        if (event.key === 'Up' || event.key === 'ArrowUp') {\n          stopDefault();\n          this.dropdownInstance.selecPrevious();\n        } else if (event.key === 'Down' || event.key === 'ArrowDown') {\n          stopDefault();\n          this.dropdownInstance.selectNext();\n        } else if (event.key === 'Enter') {\n          stopDefault();\n          this.dropdownInstance.confirmSelection();\n        }\n      }\n    });\n\n    this.editTarget.addEventListener('input', (event: any) => {\n      console.debug('value changed');\n      this.checkEmpty();\n      this.reactToChanges();\n    });\n    const style: any = window.getComputedStyle(this.editTarget);\n    this.editTarget.style.minHeight = this.getHeight(2);\n  }\n\n  public ngOnChanges(changes) {\n    if (changes['uiId']) {\n      this.subscribeToUi(this.uiId);\n    }\n    if (changes['row']) {\n      if (this.editTarget) {\n        this.computeHeight();\n      }\n    }\n  }\n\n  public ngOnDestroy() {\n    if (this.uiSubscription) {\n      this.uiSubscription.unsubscribe();\n    }\n  }\n\n  protected computeHeight() {\n    this.editTarget.style.height = this.getHeight(this.row);\n  }\n\n  protected checkEmpty() {\n    if (this.editTarget.innerHTML === '') {\n      this.editTarget.innerHTML = '<br>';\n      this.empty = true;\n    } else if (this.editTarget.innerHTML === '<br>') {\n      this.empty = true;\n    } else {\n      this.empty = false;\n    }\n  }\n\n  protected getHeight(rowCount) {\n    const style: any = window.getComputedStyle(this.editTarget);\n    let height = this.editTarget.style.height = (parseInt(style.lineHeight, 10) * rowCount);\n    if (style.boxSizing === 'border-box') {\n      height += parseInt(style.paddingTop, 10) + parseInt(style.paddingBottom, 10) + parseInt(style.borderTopWidth, 10) + parseInt(style.borderBottomWidth, 10);\n    }\n    return height + 'px';\n  }\n\n  protected uiSubscription: Subscription;\n  protected subscribeToUi(uiId) {\n    console.debug('subscribing to ' + uiId, this.uiSubscription);\n    if (this.uiSubscription) {\n      this.uiSubscription.unsubscribe();\n    }\n    this.uiSubscription = this.controller.channel(uiId).subscribe((command) => {\n      // if input is not on focus we save current focus:\n      const focus = document.activeElement;\n      console.debug('(' + uiId + ') got command ' + command.name + '/' + command.value);\n\n      this.restoreSelection();\n      if (command.name === 'insertHTML' && this.selectionRange) {\n        // If something is selected we assume that the goal is to replace it,\n        // so first we delete the content\n        this.selectionRange.deleteContents();\n        // insertHtml seems quite broken so we do it ourseleves\n        this.selectionRange.insertNode(document.createRange().createContextualFragment(command.value));\n        // move cusor to the end of the newly inserted element\n        this.selectionRange.collapse(false);\n        // Force the update of the model\n        this.checkEmpty();\n        this.reactToChanges();\n      } else {\n        document.execCommand(command.name, false, command.value);\n      }\n      this.saveSelection();\n      (focus as any).focus();\n    });\n  }\n\n  // Saves the current text selection\n  protected selectionRange: Range;\n  protected saveSelection() {\n    if (this.selectionInEditableTarget()) {\n      const sel = window.getSelection();\n      if (sel.getRangeAt && sel.rangeCount) {\n        this.selectionRange = sel.getRangeAt(0);\n        console.debug('(' + this.uiId + ') saveSelection', this.selectionRange);\n        this.detectStyle();\n      }\n    }\n  }\n  // Restors the current text selection\n  protected restoreSelection() {\n    if (this.selectionInEditableTarget()) {\n      return;\n    }\n    console.debug('(' + this.uiId + ') restoreSelection', this.selectionRange);\n    if (this.selectionRange) {\n      const sel = window.getSelection();\n      sel.removeAllRanges();\n      sel.addRange(this.selectionRange);\n    }\n  }\n\n  protected selectionInEditableTarget() {\n    const sel = window.getSelection();\n    const node = sel.getRangeAt && sel.rangeCount && sel.getRangeAt(0) && sel.getRangeAt(0).commonAncestorContainer;\n    return node && (node === this.editTarget || (node.parentElement.closest('.fate-edit-target') && (node.parentElement.closest('.fate-edit-target') === this.editTarget)));\n  }\n\n  protected detectStyle() {\n    let node = this.selectionRange.commonAncestorContainer;\n    if (!node || (!(node.parentElement.closest('.fate-edit-target') && node !== this.editTarget))) {\n      // The current selection is not contained in the editable zone.\n      // this is most likely due to the input being empty.\n      return;\n    }\n    // special cases for FF when selection is obtained by double click:\n    if ((this.selectionRange.endOffset === 0) &&\n        (this.selectionRange.startContainer.nodeValue) &&\n        (this.selectionRange.startOffset === this.selectionRange.startContainer.nodeValue.length)) {\n      node = this.selectionRange.startContainer.nextSibling;\n    } else if ((this.selectionRange.endOffset === 0) &&\n        (this.selectionRange.startOffset === 0)) {\n      node = this.selectionRange.startContainer.parentElement;\n    } else if ((this.selectionRange.commonAncestorContainer === this.editTarget) &&\n               (this.selectionRange.startContainer === this.editTarget) &&\n               (this.selectionRange.endContainer === this.editTarget)) {\n      node = this.selectionRange.commonAncestorContainer.childNodes[this.selectionRange.startOffset];\n    }\n    if (node && node !== this.editTarget) {\n      const nodes = this.htmlParser.findParentNodes(node, this.editTarget);\n      console.debug('  -> detected actions: ', nodes);\n      this.controller.enableActions(this.uiId, nodes);\n    }\n  }\n\n  // implentation of ControlValueAccessor:\n  protected changed = new Array<(value: string) => void>();\n\n  public writeValue(value: string) {\n    if (value) {\n      this.content = this.sanitizer.bypassSecurityTrustHtml(this.htmlParser.serialize(this.parser.parse(value)));\n      this.empty = false;\n    } else {\n      this.content = this.sanitizer.bypassSecurityTrustHtml('<br>');\n      this.empty = true;\n    }\n    this.selectionRange = undefined;\n  }\n\n  public registerOnChange(fn: (value: string) => void) {\n    this.changed.push(fn);\n  }\n\n  public registerOnTouched(fn: () => void) {}\n\n  protected checkForDropdownContext() {\n    const startPos = Math.max(this.selectionRange.startOffset - 20, 0);\n    const length = this.selectionRange.startOffset - startPos;\n    const context = this.selectionRange.startContainer.textContent.substr(startPos, length);\n\n    const inlineAction = this.controller.getInlineAction(context);\n    if (inlineAction) {\n      if (!this.inlineAction || this.inlineAction.dropdown !== inlineAction.dropdown) {\n        this.inlineAction = inlineAction;\n        this.initDropdown(inlineAction, this.selectionRange.getBoundingClientRect());\n      } else {\n        this.inlineAction = inlineAction;\n        this.updateDropdown(inlineAction.matched);\n      }\n    } else if (this.dropdownComponent) {\n      this.inlineAction = null;\n      this.dropdownComponent.destroy();\n    }\n  }\n\n  protected initDropdown(actionComponent, position) {\n    // set the dropdown component\n    if (this.dropdownComponent) {\n      this.dropdownComponent.destroy();\n    }\n    const factory = this.factoryResolver.resolveComponentFactory(actionComponent.dropdown);\n    const component: any = factory.create(this.viewContainerRef.parentInjector);\n    if (component.instance.valueChange) {\n      component.instance.value = actionComponent.matched;\n      component.instance.valueChange.subscribe((value) => {\n        this.editTarget.focus();\n        const end = this.selectionRange.endOffset;\n        this.selectionRange.setStart(this.selectionRange.endContainer, end - actionComponent.matched.length);\n        this.controller.doInline(this.uiId, this.inlineAction, value);\n        // delete the dropdown\n        this.inlineAction = null;\n        this.dropdownComponent.destroy();\n      });\n      this.dropdownComponent = this.viewContainerRef.insert(component.hostView);\n      this.dropdownInstance = component.instance;\n      this.updateDropdownPosition();\n    } else {\n      throw new Error('The component used as a dropdown doesn\\'t contain a valueChange emmiter!');\n    }\n  }\n\n  protected updateDropdown(value) {\n    this.dropdownInstance.value = value;\n    this.updateDropdownPosition();\n  }\n\n  protected updateDropdownPosition() {\n    if (this.inlineAction.display === 'contextual') {\n      // create a selection to get the size of the matching text\n      const parentOffsetBB = this.el.nativeElement.offsetParent.getBoundingClientRect();\n      const range = this.selectionRange.cloneRange();\n      const end = range.endOffset;\n      range.setStart(range.endContainer, end - this.inlineAction.matched.length);\n      const boundingBox = range.getBoundingClientRect();\n      this.dropdownPostionTop = (boundingBox.top + boundingBox.height - parentOffsetBB.top) + 'px';\n      this.dropdownPostionLeft = (boundingBox.left - parentOffsetBB.left) + 'px';\n    }\n  }\n}\n","import { Component, Input, ElementRef, HostListener, ComponentFactoryResolver } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\nimport { defaultButtons } from '../fate-ui/fate-ui.component';\nimport { FateControllerService } from '../fate-controller.service';\nimport { FateParserService } from '../fate-parser.service';\nimport { FateIconService } from '../fate-icon.service';\n\nlet instanceCounter = 0;\n\n@Component({\n  selector: 'fate-bootstrap',\n  templateUrl: './fate-bootstrap.component.html',\n  styleUrls: ['./fate-bootstrap.component.scss'],\n  providers: [\n    {provide: NG_VALUE_ACCESSOR, useExisting: FateBootstrapComponent, multi: true}\n  ],\n})\nexport class FateBootstrapComponent implements ControlValueAccessor {\n\n  @Input()\n  row: number;\n\n  @Input()\n  placeholder: string;\n\n  @Input()\n  public buttons: Array<string> = defaultButtons;\n\n  // implentation of ControlValueAccessor:\n  protected changed = new Array<(value: string) => void>();\n  protected clickOngoing: boolean = false;\n\n  public passthrough: string;\n  public uiId;\n  public uiVisible;\n\n\n  @HostListener('focusout', ['$event'])\n  public blur (event: any) {\n    if (!this.clickOngoing) {\n      this.uiVisible = false;\n    }\n  }\n\n  @HostListener('mousedown', ['$event'])\n  public mousedown (event: any) {\n    this.clickOngoing = true;\n  }\n\n  @HostListener('mouseup', ['$event'])\n  public mouseup (event: any) {\n    this.clickOngoing = false;\n  }\n\n  @HostListener('focusin', ['$event'])\n  public focus (event: any) {\n    this.uiVisible = true;\n    console.info('boostrap focus!')\n  }\n\n  constructor(el: ElementRef, controller: FateControllerService, parser: FateParserService, icon: FateIconService, factoryResolver: ComponentFactoryResolver) {\n    this.uiId = 'bootstrap-' + (instanceCounter++);\n  }\n\n  public writeValue(value: string) {\n    this.passthrough = value;\n  }\n\n  public registerOnChange(fn: (value: string) => void) {\n    this.changed.push(fn);\n  }\n\n  public registerOnTouched(fn: () => void) {}\n\n  // change callback\n  public onChange(value) {\n    this.passthrough = value;\n    this.changed.forEach(f => f(value));\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { FateIconService } from './fate-icon.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FateMaterialIconService extends FateIconService {}\n","import { Component, Input, HostBinding, HostListener, Optional, Self, ElementRef, OnDestroy } from '@angular/core';\nimport { ControlValueAccessor, NgControl } from '@angular/forms';\nimport { MatFormFieldControl } from '@angular/material/form-field';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\n\nimport { defaultButtons } from '../fate-ui/fate-ui.component';\nimport { FateControllerService } from '../fate-controller.service';\nimport { FateParserService } from '../fate-parser.service';\nimport { FateIconService } from '../fate-icon.service';\nimport { FateMaterialIconService } from '../fate-material-icon.service';\n\nimport { Subject } from 'rxjs';\n\nlet instanceCounter = 0;\n\n@Component({\n  selector: 'fate-material',\n  templateUrl: './fate-material.component.html',\n  styleUrls: ['./fate-material.component.scss'],\n  providers: [\n    { provide: MatFormFieldControl, useExisting: FateMaterialComponent },\n    { provide: FateIconService, useClass: FateMaterialIconService }\n  ],\n})\nexport class FateMaterialComponent implements  ControlValueAccessor, OnDestroy, MatFormFieldControl<string>  {\n\n  @Input()\n  row: number;\n\n  @Input()\n  public buttons: Array<string> = defaultButtons;\n\n  @Input()\n  public get value(): string {\n    return this.passthrough;\n  }\n  public set value(value: string) {\n    this.stateChanges.next();\n    this.passthrough = value;\n    this.changed.forEach(f => f(value));\n  }\n  public passthrough: string;\n\n  @Input()\n  get placeholder() {\n    return this._placeholder;\n  }\n  set placeholder(placeholder) {\n    this._placeholder = placeholder;\n    this.stateChanges.next();\n  }\n  protected _placeholder: string;\n\n  public uiId;\n  @HostBinding()\n  id = `${this.uiId}`;\n\n  @HostListener('focusout')\n  public blur() {\n    this.focused = false;\n    this.stateChanges.next();\n    if (!this.clickOngoing) {\n      this.uiVisible = false;\n    }\n  }\n\n  @HostListener('focusin')\n  public focus() {\n    this.focused = true;\n    this.uiVisible = true;\n    this.stateChanges.next();\n  }\n\n  @HostListener('mousedown', ['$event'])\n  public mousedown (event: any) {\n    this.clickOngoing = true;\n  }\n\n  @HostListener('mouseup', ['$event'])\n  public mouseup (event: any) {\n    this.clickOngoing = false;\n  }\n  public clickOngoing = false;\n  public uiVisible = false;\n\n  get empty() {\n    return !this.passthrough || this.passthrough === '';\n  }\n\n  get shouldLabelFloat() {\n    return this.focused || !this.empty;\n  }\n\n  @Input()\n  get required() {\n    return this._required;\n  }\n  set required(req) {\n    this._required = coerceBooleanProperty(req);\n    this.stateChanges.next();\n  }\n  protected _required = false;\n\n  @Input()\n  get disabled() {\n    return this._disabled;\n  }\n  set disabled(dis) {\n    this._disabled = coerceBooleanProperty(dis);\n    this.stateChanges.next();\n  }\n  protected _disabled = false;\n\n  public errorState = false;\n\n  public controlType = 'fate-material';\n\n  @HostBinding('attr.aria-describedby')\n  describedBy = '';\n\n  public setDescribedByIds(ids: string[]) {\n    this.describedBy = ids.join(' ');\n  }\n\n  public onContainerClick(event: MouseEvent) {}\n\n  public stateChanges = new Subject<void>();\n  public focused = false;\n\n  protected changed = new Array<(value: string) => void>();\n\n  constructor(controller: FateControllerService, parser: FateParserService, icon: FateIconService, el: ElementRef, @Optional() @Self() public ngControl: NgControl) {\n    this.uiId = 'material-' + (instanceCounter++);\n    // Setting the value accessor directly (instead of using\n    // the providers) to avoid running into a circular import.\n    if (this.ngControl != null) {\n      this.ngControl.valueAccessor = this;\n    }\n  }\n\n  public onChange(value) {\n    this.passthrough = value;\n    this.changed.forEach(f => f(value));\n    this.stateChanges.next();\n  }\n\n  public ngOnDestroy() {\n    this.stateChanges.complete();\n  }\n\n  public writeValue(value: string) {\n    this.passthrough = value;\n    this.stateChanges.next();\n  }\n\n  public registerOnChange(fn: (value: string) => void) {\n    this.changed.push(fn);\n  }\n\n  public registerOnTouched(fn: () => void) {}\n}\n","import { Injectable } from '@angular/core';\n\nimport { FateIconService } from './fate-icon.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FateFontawsomeLegacyIconService extends FateIconService {\n\n  protected iconMapping = {\n    'bold' : '<i class=\"fa fa-bold\"></i>',\n    'italic' : '<i class=\"fa fa-italic\"></i>',\n    'underline' : '<i class=\"fa fa-underline\"></i>',\n    'strike' : '<i class=\"fa fa-strikethrough\"></i>',\n    'subscript' :  '<i class=\"fa fa-subscript\"></i>',\n    'superscript' : '<i class=\"fa fa-superscript\"></i>',\n    'indent' : '<i class=\"fa fa-indent\"></i>',\n    'outdent' : '<i class=\"fa fa-outdent\"></i>',\n    'ordered' : '<i class=\"fa fa-list-ol\"></i>',\n    'unordered' : '<i class=\"fa fa-list-ul\"></i>',\n    'center' : '<i class=\"fa fa-align-center\"></i>',\n    'justify' : '<i class=\"fa fa-align-justify\"></i>',\n    'left' : '<i class=\"fa fa-align-left\"></i>',\n    'right' : '<i class=\"fa fa-align-right\"></i>',\n    'undo' : '<i class=\"fa fa-undo\"></i>',\n    'redo' : '<i class=\"fa fa-repeat\"></i>',\n    'clean' : '<i class=\"fa fa-eraser\"></i>',\n    'link' : '<i class=\"fa fa-link\"></i>',\n  };\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\n\nimport { FateUiComponent } from './fate-ui/fate-ui.component';\nimport { FateInputComponent } from './fate-input/fate-input.component';\nimport { FateBootstrapComponent } from './fate-bootstrap/fate-bootstrap.component';\nimport { FateMaterialComponent } from './fate-material/fate-material.component';\nimport { FateLinkDropdownComponent } from './fate-link-dropdown/fate-link-dropdown.component';\n\nexport { FateParser } from './fate-parser.interface';\nexport { FateIcon } from './fate-icon.interface';\nexport { FateDropdown } from './fate-dropdown.interface';\nexport { FateUiComponent } from './fate-ui/fate-ui.component';\nexport { FateInputComponent } from './fate-input/fate-input.component';\nexport { FateLinkDropdownComponent } from './fate-link-dropdown/fate-link-dropdown.component';\nexport { FateIconService } from './fate-icon.service';\nexport { FateMaterialIconService } from './fate-material-icon.service';\nexport { FateFontawsomeLegacyIconService } from './fate-fontawsome-legacy-icon.service';\nexport { FateParserService } from './fate-parser.service';\nexport { FateControllerService, FateCommand } from './fate-controller.service';\nexport { FateHtmlParserService } from './fate-html-parser.service';\nexport { FateNode } from './fate-node';\nexport { FateType } from './fate-type.enum';\n\n@NgModule({\n  declarations: [\n    FateInputComponent,\n    FateUiComponent,\n    FateBootstrapComponent,\n    FateLinkDropdownComponent\n  ],\n  imports: [CommonModule, FormsModule, MatFormFieldModule, FontAwesomeModule],\n  exports: [\n    FateUiComponent,\n    FateInputComponent,\n    FateBootstrapComponent,\n    FateLinkDropdownComponent\n  ]\n})\nexport class FateModule {}\n\n@NgModule({\n  declarations: [FateMaterialComponent],\n  imports: [CommonModule, FormsModule, MatFormFieldModule, FateModule],\n  exports: [FateMaterialComponent]\n})\nexport class FateMaterialModule {}\n"],"names":["FateType","EventEmitter","Input","Output","Component","Subject","Injectable","ElementRef","ComponentFactoryResolver","HostListener","ViewChild","ViewContainerRef","DomSanitizer","NG_VALUE_ACCESSOR","instanceCounter","coerceBooleanProperty","NgControl","Optional","Self","HostBinding","MatFormFieldControl","NgModule","CommonModule","FormsModule","MatFormFieldModule","FontAwesomeModule"],"mappings":"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"}